!function(){var e={892:function(){window.elastic={}}},t={};function o(s){var a=t[s];if(void 0!==a)return a.exports;var r=t[s]={exports:{}};return e[s](r,r.exports,o),r.exports}!function(){"use strict";class e{static setCopy(t){const o=t.querySelector(".bi");t.addEventListener("click",(s=>{s.preventDefault(),e.copy(t.nextElementSibling),core.ClassList.toggle(o,"bi-clipboard bi-check2"),setTimeout((()=>core.ClassList.toggle(o,"bi-clipboard bi-check2")),1e3)}))}static copy(t){"https:"===window.location.protocol?navigator.clipboard.writeText(t.textContent):e.deprecatedCopy(t)}static deprecatedCopy(e){const t=document.getSelection(),o=new Range;o.selectNodeContents(e),t.removeAllRanges(),t.addRange(o),document.execCommand("copy"),t.removeAllRanges()}}class t{static nextUrl(e=""){let[t,o]=e.split("?");""===t&&(t=window.location.pathname),o??="";let s=window.location.search.replace("?","").replace(/^_\w+(&|$)/,"$1");return s=[...new URLSearchParams(`${o}&${s}`).entries()],s=s.reduce(((e,t)=>({...e,[t[0]]:t[1]})),{}),o=Object.entries(s).map((e=>`${e[0]}=${e[1]}`)).join("&").replace(/=(&|$)/,"$1"),o?`${t}?${o}`:t}static setNextLink(e){e.hasAttribute("href")&&e.setAttribute("href",t.nextUrl(e.getAttribute("href"))),e.hasAttribute("data-next-href")&&(e.dataset.href=t.nextUrl(e.dataset.nextHref))}static setAjaxLink(e){const t=e.getAttribute("href")??e.dataset.href??"?";e.addEventListener("click",(e=>{core.Loading.start(),$.ajax({dataType:"json",url:t}).then(core.Response.done).catch(core.Response.fail),e.preventDefault()}))}static setRowLink(e){e.style.cursor="pointer",e.addEventListener("click",(t=>{const o=e.dataset.href??e.querySelector("a")?.getAttribute("href");o&&("A"===t.target.tagName||t.target.closest("a,.js-row-unlink")||window.getSelection().isCollapsed&&(window.location=o))}))}static setNavLink(e){const t=e.getAttribute("href"),o=window.location.pathname,s="/"===t?"/"===o:0===o.indexOf(t);e.classList.toggle("active",s)}}class s{static id="core-loading";static start(){$("body").append(`\n      <div class="d-flex-center ${s.id}">\n      <div class="spinner-border text-secondary" role="status">\n      <span class="visually-hidden">Loading...</span></div></div>\n    `)}static stop(){$(`.${s.id}`).remove()}}class a{static id="core-modal";static alert(e){($_=document.querySelector(`#${a.id}`))&&$_.remove();const t={header:e.title,body:e.message,footer:'<button type="button" class="btn btn-sm btn-primary" data-bs-dismiss="modal">OK</button>'},o=a.getTemplate(Object.assign(t,e)),s=new bootstrap.Modal(o[0]);return new Promise((e=>{s.show(),o.on("hide.bs.modal",(()=>e()))}))}static confirm(e){($_=document.querySelector(`#${a.id}`))&&$_.remove();const t={header:e.title,body:e.message,footer:'\n        <button type="button" class="btn btn-sm btn-secondary" data-bs-dismiss="modal">Cancel</button>\n        <button type="button" class="btn btn-sm btn-primary">OK</button>\n      '},o=a.getTemplate(Object.assign(t,e)),s=new bootstrap.Modal(o[0]);return new Promise(((e,t)=>{s.show(),o.find(".btn-primary").on("click",(()=>e())),o.on("hide.bs.modal",(()=>t()))}))}static getTemplate(e={}){return e.body&&(e.body=a.convertBody(e.body)),$(`\n      <div id="${a.id}" class="modal" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">\n      <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable ${e.class}">\n      <div class="modal-content">\n        <div class="modal-header">${e.header??""}</div>\n        <div class="modal-body">${e.body??""}</div>\n        <div class="modal-footer">${e.footer??""}</div>\n      </div></div></div>\n    `)}static convertBody(e,t=""){return Array.isArray(e)?(t+="<ul>",e.forEach((e=>{t=this.convertAlertBody(e,t)})),t+="</ul>"):(e=String(e).replace(/\r?\n/g,"<br>"),t+=t?`<li>${e}</li>`:`<div>${e}</div>`)}}class r{static done(e,t,o){console.debug(`[${t}]`,e),core.Loading.stop();const s=o.responseJSON??{};s.reflesh&&(s.location=window.location.href),s.results?r.modal(s).then((()=>{s.location&&r.redirect(s)})):s.location&&r.redirect(s)}static modal(e){return core.Modal.alert({class:"modal-lg modal-type-code",body:JSON.stringify(e.results,null,2)})}static redirect(e){e.alert&&Cookies.set("alert__primary",e.alert,{expires:1,path:"/"}),window.location=e.location}static fail(e,t,o){console.debug(`[${t}]`,o,e),core.Loading.stop();let s={class:"modal-type-error",title:o};"parsererror"===t||(e.responseJSON?s=Object.assign(s,e.responseJSON):e.responseText&&(s.title=e.responseText)),core.Modal.alert(s)}}window.core={ClassList:class{static toggle(e,t,o=null){return null===o?t.split(" ").forEach((t=>e.classList.toggle(t))):t.split(" ").forEach((t=>e.classList.toggle(t,o))),this}},Clipboard:e,Form:class{static disableButton(e){e.classList.add("disabled"),setTimeout((e=>e.classList.remove("disabled")),2e3,e)}static disableAjaxSubmit(e){e.classList.add("disabled"),$(".js-rest-create, .js-rest-update").off("click")}static focusField(e){const t=document.querySelector(e);t?.value?.length&&(t.focus(),t.setSelectionRange(t.value.length,t.value.length))}static setAjaxSubmit(e){const t=e.closest("form"),o=t.getAttribute("action")??"?";e.addEventListener("click",(s=>{$(t).ajaxSubmit({dataType:"json",url:o}).data("jqxhr").then(core.Response.done).catch(core.Response.fail),s.preventDefault(),core.Form.disableButton(e)}))}},Link:t,Loading:s,Modal:a,RESTish:class{static setListSelect(e){const t=e.closest("table"),o=t.querySelector('tbody input[type="checkbox"]')?.getAttribute("name");e.addEventListener("click",(e=>{t.querySelectorAll(`input[name="${o}"]`).forEach((e=>{e.checked=!0})),e.preventDefault(),e.stopPropagation()}))}static setListDeselect(e){const t=e.closest("table"),o=t.querySelector('tbody input[type="checkbox"]')?.getAttribute("name");e.addEventListener("click",(e=>{t.querySelectorAll(`input[name="${o}"]`).forEach((e=>{e.checked=!1})),e.preventDefault(),e.stopPropagation()}))}static setListDelete(e){const t=e.closest("table"),o=e.dataset.href??".",s=t.querySelector('tbody input[type="checkbox"]')?.getAttribute("name");e.addEventListener("click",(e=>{const a=Array.from(t.querySelectorAll(`input[name="${s}"]:checked`)).map((e=>e.value));0!==a.length?($.ajax({data:{_method:"DELETE",id:a},dataType:"json",type:"POST",url:o}).then(core.Response.done).catch(core.Response.fail),e.preventDefault(),e.stopPropagation()):e.stopPropagation()}))}static setCreate(e){const t=e.closest("form"),o=t.getAttribute("action")??".";e.addEventListener("click",(s=>{$(t).ajaxSubmit({dataType:"json",url:o}).data("jqxhr").then(core.Response.done).catch(core.Response.fail),s.preventDefault(),core.Form.disableButton(e)}))}static setUpdate(e){const t=e.closest("form"),o=t.getAttribute("action")??"?";e.addEventListener("click",(s=>{$(t).ajaxSubmit({data:{_method:"PUT"},dataType:"json",type:"POST",url:o}).data("jqxhr").then(core.Response.done).catch(core.Response.fail),s.preventDefault(),core.Form.disableButton(e)}))}static setDelete(e){const t=e.getAttribute("href")??e.dataset.href??"?";e.addEventListener("click",(o=>{core.Modal.confirm({message:e.dataset.confirm}).then((()=>{$.ajax({data:{_method:"DELETE"},dataType:"json",type:"POST",url:t}).then(core.Response.done).catch(core.Response.fail),core.Form.disableButton(e)})).catch((()=>{})),o.preventDefault(),core.Form.disableButton(e)}))}},Response:r,Utils:class{static benchmark(e,t=3e4){const o=Date.now();for(let o=0;o<t;o+=1)e();const s=Date.now()-o;console.debug(`${s} ms (${t} times)`)}}},[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].forEach((e=>{new bootstrap.Tooltip(e)})),document.querySelectorAll(".dropdown-switch").forEach((e=>{e.addEventListener("click",(t=>{e.closest("ul").querySelectorAll("li").forEach((e=>{e.classList.toggle("d-none")})),t.preventDefault(),t.stopPropagation()}))})),document.querySelectorAll('form[type="POST"]').forEach((e=>{e.addEventListener("keypress",(e=>{"Enter"===e.key&&e.preventDefault()}))})),document.querySelectorAll(".js-next-link, [data-next-href]").forEach((e=>{core.Link.setNextLink(e)})),document.querySelectorAll(".js-ajax-link").forEach((e=>{core.Link.setAjaxLink(e)})),document.querySelectorAll(".js-row-link").forEach((e=>{core.Link.setRowLink(e)})),document.querySelectorAll(".js-nav-link").forEach((e=>{core.Link.setNavLink(e)})),document.querySelectorAll(".js-list-select").forEach((e=>{core.RESTish.setListSelect(e)})),document.querySelectorAll(".js-list-deselect").forEach((e=>{core.RESTish.setListDeselect(e)})),document.querySelectorAll(".js-list-delete").forEach((e=>{core.RESTish.setListDelete(e)})),document.querySelectorAll(".js-rest-create").forEach((e=>{core.RESTish.setCreate(e)})),document.querySelectorAll(".js-rest-update").forEach((e=>{core.RESTish.setUpdate(e)})),document.querySelectorAll(".js-rest-delete").forEach((e=>{core.RESTish.setDelete(e)})),document.querySelectorAll(".js-form-submit").forEach((e=>{core.Form.setAjaxSubmit(e)})),document.querySelectorAll(".js-clipboard-copy").forEach((e=>{core.Clipboard.setCopy(e)})),o(892)}()}();